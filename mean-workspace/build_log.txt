
starting build "d5fa5a28-2af2-4664-a6a1-6b5e8780cce5"
FETCHSOURCE
hint: Using 'master' as the name for the initial branch. This default branch name
hint: is subject to change. To configure the initial branch name to use in all
hint: of your new repositories, which will suppress this warning, call:
hint:
hint: 	git config --global init.defaultBranch <name>
hint:
hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
hint: 'development'. The just-created branch can be renamed via this command:
hint:
hint: 	git branch -m <name>
Initialized empty Git repository in /workspace/.git/
Sending build context to Docker daemon  670.7kB
Step 1/15 : FROM node:18-alpine
18-alpine: Pulling from library/node
f18232174bc9: Already exists
dd71dde834b5: Pulling fs layer
1e5a4c89cee5: Pulling fs layer
25ff2da83641: Pulling fs layer
1e5a4c89cee5: Verifying Checksum
1e5a4c89cee5: Download complete
25ff2da83641: Verifying Checksum
25ff2da83641: Download complete
dd71dde834b5: Verifying Checksum
dd71dde834b5: Download complete
 ---> Running in d5c71219cb89
Removing intermediate container d5c71219cb89
 ---> c32ebbacf98f
Step 3/15 : COPY package*.json ./
 ---> 417d8d3158a7
Step 4/15 : COPY tsconfig.base.json ./
 ---> bdf60a1b5f05
Step 5/15 : COPY nx.json ./
 ---> 5db52009a2ac
Step 6/15 : COPY jest.preset.js ./
 ---> c7bde59d9ee9
Step 7/15 : RUN npm ci
 ---> Running in 62d99f13182a
added 1768 packages, and audited 1769 packages in 2m
262 packages are looking for funding
  run `npm fund` for details
12 moderate severity vulnerabilities
To address issues that do not require attention, run:
  npm audit fix
To address all issues (including breaking changes), run:
  npm audit fix --force
Run `npm audit` for details.
npm notice
npm notice New major version of npm available! 10.8.2 -> 11.4.1
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.4.1
npm notice To update run: npm install -g npm@11.4.1
npm notice
Removing intermediate container 62d99f13182a
 ---> fc0f934bba17
Step 8/15 : COPY api/ ./api/
 ---> 322bb662dadd
Step 9/15 : COPY eslint.base.config.mjs ./
 ---> bf38e2496c6b
Step 10/15 : COPY eslint.config.mjs ./
 ---> 0482836e17c1
Step 11/15 : COPY jest.config.ts ./
 ---> 846bf1468c83
Step 12/15 : RUN npx nx build api --prod
 ---> Running in b425c45a2abf
> nx run api:build
> webpack-cli build node-env=production
chunk (runtime: main) main.js (main) 17.2 KiB [entry] [rendered]
webpack compiled successfully (34e6811e6cc9103b)
 NX   Successfully ran target build for project api
Removing intermediate container b425c45a2abf
 ---> 8fda9a18e768
Step 13/15 : RUN npm prune --production && npm cache clean --force
 ---> Running in f6a765cb40c2
npm warn config production Use `--omit=dev` instead.
up to date, audited 226 packages in 10s
31 packages are looking for funding
  run `npm fund` for details
found 0 vulnerabilities
npm warn using --force Recommended protections disabled.
 ---> Running in 0b965d8bc75b
Removing intermediate container 0b965d8bc75b
 ---> a70b5a3ec510
Step 15/15 : CMD ["node", "dist/api/main.js"]
 ---> Running in 13cecee5fbf4
Removing intermediate container 13cecee5fbf4
 ---> 3f8fee401758
Successfully built 3f8fee401758
Successfully tagged europe-west1-docker.pkg.dev/mean-stack-deployment/cloud-run-source-deploy/mean-workspace/mean-workspace:809c5dc6d1e861fae1ebf5554a7e4382f0a52029
Finished Step #0 - "Build"
Starting Step #1 - "Push"
Already have image (with digest): gcr.io/cloud-builders/docker
The push refers to repository [europe-west1-docker.pkg.dev/mean-stack-deployment/cloud-run-source-deploy/mean-workspace/mean-workspace]
0f6a28976f19: Preparing
bd0f269d17a0: Preparing
dfc8a5d213ce: Preparing
e9375ccd75a6: Preparing
de17d8050089: Preparing
840ef7e4ffd5: Preparing
96b7a90156b9: Preparing
3c9b770ba778: Preparing
2fb2b2039f27: Preparing
841d05aa68d1: Preparing
0669e4c30dc5: Preparing
fcabea009461: Preparing
82140d9a70a7: Preparing
f3b40b0cdb1c: Preparing
0b1f26057bd0: Preparing
08000c18d16d: Preparing
840ef7e4ffd5: Waiting
96b7a90156b9: Waiting
3c9b770ba778: Waiting
2fb2b2039f27: Waiting
841d05aa68d1: Waiting
0669e4c30dc5: Waiting
fcabea009461: Waiting
82140d9a70a7: Waiting
f3b40b0cdb1c: Waiting
0b1f26057bd0: Waiting
08000c18d16d: Waiting
de17d8050089: Pushed
dfc8a5d213ce: Pushed
e9375ccd75a6: Pushed
0f6a28976f19: Pushed
2fb2b2039f27: Pushed
841d05aa68d1: Pushed
840ef7e4ffd5: Pushed
0669e4c30dc5: Pushed
fcabea009461: Pushed
96b7a90156b9: Pushed
809c5dc6d1e861fae1ebf5554a7e4382f0a52029: digest: sha256:49dad94c86acc5449315d26b46da091cde83fdf90ef2c9383bbe7f5f6a6f7bb7 size: 3658
Finished Step #1 - "Push"
Starting Step #2 - "Deploy"
Pulling image: gcr.io/google.com/cloudsdktool/cloud-sdk:slim
slim: Pulling from google.com/cloudsdktool/cloud-sdk
3e6b9d1a9511: Already exists
bbebe329b47b: Pulling fs layer
275e316ac4ce: Pulling fs layer
cbfc7978cf2b: Pulling fs layer
abcb80e2fbc0: Pulling fs layer
abcb80e2fbc0: Waiting
275e316ac4ce: Verifying Checksum
275e316ac4ce: Download complete
bbebe329b47b: Verifying Checksum
bbebe329b47b: Download complete
abcb80e2fbc0: Verifying Checksum
abcb80e2fbc0: Download complete
bbebe329b47b: Pull complete
275e316ac4ce: Pull complete
cbfc7978cf2b: Verifying Checksum
cbfc7978cf2b: Download complete
cbfc7978cf2b: Pull complete
abcb80e2fbc0: Pull complete
Digest: sha256:9ba8726fdabb052792ae21450f6266f74f2ce03dbb6d217346e4ec8f2a031cd0
Status: Downloaded newer image for gcr.io/google.com/cloudsdktool/cloud-sdk:slim
gcr.io/google.com/cloudsdktool/cloud-sdk:slim
Deploying...
Creating Revision.....................................................................................................................................................................................................................................................................................................................................................................................................................................................................................failed
Deployment failed
ERROR: (gcloud.run.services.update) Revision 'mean-workspace-00002-2pv' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.
Logs URL: https://console.cloud.google.com/logs/viewer?project=mean-stack-deployment&resource=cloud_run_revision/service_name/mean-workspace/revision_name/mean-workspace-00002-2pv&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22mean-workspace%22%0Aresource.labels.revision_name%3D%22mean-workspace-00002-2pv%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
Finished Step #2 - "Deploy"
ERROR
ERROR: build step 2 "gcr.io/google.com/cloudsdktool/cloud-sdk:slim" failed: step exited with non-zero status: 1
